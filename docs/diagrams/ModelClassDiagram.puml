@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model <<Rectangle>>{
Interface ReadOnlyModulePlanner <<Interface>>
Interface Model <<Interface>>
Interface ObservableList <<Interface>>
Class ModulePlanner
Class ReadOnlyModulePlanner
Class Model
Class ModelManager
Class UserPrefs
Class ReadOnlyUserPrefs

Package StudyPlan {
Class StudyPlan
Class Title
Class UniqueStudyPlanList
}

Package Module {
Class UniqueModuleList
Class Module
Class ModuleCode
Class Name
Class Color
Class PrereqTree
}

Package Tag {
Interface Tag <<Interface>>
Class UniqueTagList
Class UserTag
Class DefaultTag
Class PriorityTag
}

Package Semester {
Class Semester
Class SemesterName
Class UniqueSemesterList
}

Package VersionTracking {
Class VersionTrackingManager
Class StudyPlanCommitManagerList
Class StudyPlanCommitManager
Class CommitList
Class Commit
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

VersionTrackingManager *--> StudyPlanCommitManagerList
StudyPlanCommitManagerList o--> "*" StudyPlanCommitManager
StudyPlanCommitManager *--> CommitList
CommitList o--> "*" Commit
Commit *--> StudyPlan

ModulePlanner .up.|> ReadOnlyModulePlanner

ModelManager .up.|> Model
Model .right.> ObservableList
ModelManager o--> "1" ModulePlanner
ModelManager o-left-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

ModulePlanner *--> ModulesInfo
ModulePlanner *--> VersionTrackingManager
ModulePlanner *--> SemesterName

ModulePlanner *--> "1" UniqueStudyPlanList
UniqueStudyPlanList o--> "*" StudyPlan
StudyPlan *--> SemesterName
StudyPlan *--> "2" UniqueTagList
StudyPlan *--> Title
StudyPlan *--> UniqueSemesterList

UniqueModuleList o--> "*" Module
Module *--> Name
Module *--> PrereqTree
Module *--> Color
Module *--> ModuleCode
Module *--> "1" UniqueTagList

UniqueTagList o--> "*" Tag
UserTag .up.|> Tag
DefaultTag .up.|> Tag
PriorityTag .up.|> Tag

UniqueSemesterList o--> "*" Semester
Semester *--> SemesterName
Semester *--> UniqueModuleList

ModelManager -->"1" StudyPlan : filtered list
@enduml
